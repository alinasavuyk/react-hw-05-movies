{"version":3,"file":"static/js/details-page.32e55afe.chunk.js","mappings":"0NACA,GAAgB,UAAY,oCAAoC,WAAa,qCAAqC,MAAQ,gCAAgC,aAAe,uCAAuC,KAAO,+BAA+B,UAAY,qC,SCM5PA,GAAKC,EAAAA,EAAAA,OAAK,kBAAI,gCACdC,GAAQD,EAAAA,EAAAA,OAAK,kBAAI,gCAER,SAASE,IACpB,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QAER,IADiBE,EAAAA,EAAAA,OACSC,EAAAA,EAAAA,UAAS,OAAnC,eAAOC,EAAP,KAAcC,EAAd,KAYH,OARGC,EAAAA,EAAAA,YAAU,YACNC,EAAAA,EAAAA,IAAaP,GAASQ,MAAK,SAAAC,GACvBC,QAAQC,IAAIF,GACZJ,EAASI,QAEZ,CAACT,KAIL,iBAAKY,UAAWC,EAAAA,UAAhB,WACA,oBAASC,KAAK,SAASF,UAAWC,EAAAA,OAAlC,eAA6C,SAAC,KAAD,CAAME,GAAG,IAAT,0BAC7C,yBACFX,IACK,4BACE,iBAAKQ,UAAWC,EAAAA,MAAhB,WACA,gBAAKD,UAAWC,EAAAA,aAAhB,UACA,gBAAKD,UAAWC,EAAAA,WAAcG,MAAO,IAAKC,IAAKb,EAAMc,YAAN,UAnBtC,mCAmBsC,OAA+Bd,EAAMc,aAAe,GAAIC,IAAKf,EAAMgB,QAElH,iBAAKR,UAAWC,EAAAA,aAAhB,WACF,0BAAKT,EAAMiB,MAAX,KAAoBjB,EAAMkB,aAA1B,QACC,uBAAIlB,EAAMmB,YACV,wDACA,wBACQnB,EAAMoB,OAAOC,KAAI,SAAAC,GAChB,OAAO,wBAAoBA,EAAMC,MAAjBD,EAAMN,gBAKlC,iBAAKR,UAAWC,EAAAA,UAAhB,WACG,oDACA,2BACI,gBAAKD,UAAWC,EAAAA,KAAhB,eAAyB,SAAC,KAAD,CAASE,GAAE,UAAKX,EAAMgB,GAAX,SAAX,sBACzB,eAAKR,UAAWC,EAAAA,KAAhB,UAAwB,SAAC,KAAD,CAASE,GAAE,UAAKX,EAAMgB,GAAX,YAAX,8BAIxB,UAAC,EAAAQ,SAAD,CAAUC,UAAU,wCAApB,WACA,UAAC,KAAD,gBAAS,SAAC,KAAD,CAAQC,KAAK,gBAAgBC,SAAS,SAACnC,EAAD,UAC/C,UAAC,KAAD,gBAAS,SAAC,KAAD,CAAQkC,KAAK,mBAAmBC,SAAS,SAACjC,EAAD,sB,oLCxDzDkC,EAAW,+BACXC,EAAI,mCAGH,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,8FACUC,MAAM,GAAD,OAAIH,EAAJ,uCAA2CC,IAAOzB,MAAK,SAAAC,GACrE,OAAOA,EAAK2B,UAFb,0GAMA,SAAgBC,EAAvB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,iFACUH,MAAM,GAAD,OAAIH,EAAJ,iCAAqCC,EAArC,kBAAkDK,EAAlD,wCAA6F9B,MAAK,SAAAC,GAChH,OAAOA,EAAK2B,UAFb,0GAMA,SAAe7B,EAAtB,+CAAO,OAAP,oBAAO,WAA4BgC,GAA5B,iFACWJ,MAAM,GAAD,OAAIH,EAAJ,kBAAsBO,EAAtB,oBAAwCN,EAAxC,wCAAkFzB,MAAK,SAAAC,GACtG,OAAOA,EAAK2B,UAFb,0GAMA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAAiCD,GAAjC,iFACWJ,MAAM,GAAD,OAAIH,EAAJ,kBAAsBO,EAAtB,4BAAgDN,IAAOzB,MAAK,SAAAC,GAC3E,OAAOA,EAAK2B,UAFb,0GAKA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAAkCC,GAAlC,iFACWP,MAAM,GAAD,OAAIH,EAAJ,kBAAsBU,EAAtB,4BAAiDT,EAAjD,wCAA2FzB,MAAK,SAAAC,GAC/G,OAAOA,EAAK2B,UAFb","sources":["webpack://react-hw-05-movies/./src/components/MovieDetailsPage/MovieDetailsPage.module.css?377f","components/MovieDetailsPage/MovieDetailsPage.js","components/services/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"bodyMovie\":\"MovieDetailsPage_bodyMovie__eQs+k\",\"imageMovie\":\"MovieDetailsPage_imageMovie__ejF-b\",\"Movie\":\"MovieDetailsPage_Movie__zFqFS\",\"MovieElement\":\"MovieDetailsPage_MovieElement__HIrxY\",\"link\":\"MovieDetailsPage_link__fvAzQ\",\"actorList\":\"MovieDetailsPage_actorList__bhpFa\"};","import { useState, useEffect, lazy,Suspense } from 'react';\r\nimport { useParams} from 'react-router-dom';\r\nimport {fetchMovieId} from '../services/movies-api'\r\nimport { NavLink,Link, Route, Routes,useNavigate} from 'react-router-dom'\r\nimport s from './MovieDetailsPage.module.css'\r\n\r\n\r\nconst Cast=lazy(()=>import('../Cast/Cast'/*webpackChunkName:'cast' */))\r\nconst Reviews=lazy(()=>import('../Reviews/Reviews'/*webpackChunkName:'reviews' */))\r\n\r\nexport default function MovieDetailsPage(){\r\n    const { movieId } = useParams();\r\n    const navigate = useNavigate();\r\n    const [movie, setMovie] = useState(null);\r\n    const imgUrl = 'https://image.tmdb.org/t/p/w400';\r\n\r\n\r\n    useEffect(() => {\r\n        fetchMovieId(movieId).then(data => {\r\n            console.log(data) \r\n            setMovie(data);\r\n           });\r\n      }, [movieId]);\r\n    \r\n\r\n return (\r\n     <div className={s.bodyMovie}>\r\n     <button  type=\"button\" className={s.button}> <Link to='/'> Go Back</Link></button>\r\n     <div >  \r\n  {movie && (\r\n        <div >\r\n          <div className={s.Movie}>\r\n          <div className={s.MovieElement}>\r\n          <img className={s.imageMovie} width={250} src={movie.poster_path? `${imgUrl}${movie.poster_path}`: ''} alt={movie.id} />\r\n          </div>\r\n          <div className={s.MovieElement}>\r\n        <h2>{movie.title} ({movie.release_date})</h2>\r\n         <p>{movie.overview}</p>\r\n         <h2>Жанр: </h2>\r\n         <ul>\r\n                {movie.genres.map(genre => {\r\n                  return <li key={genre.id}>{genre.name}</li>;\r\n                })}\r\n              </ul>\r\n        </div>\r\n        </div>\r\n      <div className={s.actorList}>\r\n         <h2>Additional information</h2>\r\n         <ul>\r\n             <li  className={s.link}> <NavLink to={`${movie.id}/cast`}>Cast</NavLink></li>\r\n             <li  className={s.link}><NavLink to={`${movie.id}/reviews`}>Reviews</NavLink></li>\r\n             </ul>\r\n             </div>\r\n             \r\n             <Suspense fallback={<div>Loading...</div>}>\r\n             <Routes> <Route  path=\"/:castId/cast\" element={<Cast/>} /></Routes>\r\n             <Routes> <Route  path=\"/:castId/reviews\" element={<Reviews/>} /></Routes>\r\n             </Suspense>\r\n             \r\n        </div>\r\n      )}\r\n     \r\n     </div>\r\n  \r\n     </div>\r\n   \r\n  \r\n  \r\n )\r\n    \r\n \r\n\r\n}\r\n/*<Routes> \r\n    <Route  path=\"/:movieId/:castId\" element={<Cast/>} />\r\n    </Routes>\r\n     <Outlet /> */","const BASE_URL = 'https://api.themoviedb.org/3';\r\nconst KEY='e0b83f13df06524117f579d02cedd1f8'\r\n\r\n\r\nexport async function fetchTrendingMovie() {\r\n    return await fetch(`${BASE_URL}/trending/movie/day?api_key=${KEY}`).then(data=>{\r\n        return data.json()\r\n    })\r\n}\r\n\r\nexport async function  fetchSearchMovie(film) {\r\n    return await fetch(`${BASE_URL}/search/movie?api_key=${KEY}&query=${film}&language=en-US&include_adult=false`).then(data=>{\r\n        return data.json()\r\n    })\r\n}\r\n\r\nexport async function fetchMovieId(filmId) {\r\n    return  await fetch(`${BASE_URL}/movie/${filmId}?api_key=${KEY}&language=en-US&include_adult=false`).then(data=>{\r\n        return data.json()\r\n    })\r\n}\r\n\r\nexport async function fetchMovieCredits(filmId) {\r\n    return  await fetch(`${BASE_URL}/movie/${filmId}/credits?api_key=${KEY}`).then(data=>{\r\n        return data.json()\r\n    })\r\n  };\r\nexport async function fetchMovieReviews (movieid) {\r\n    return  await fetch(`${BASE_URL}/movie/${movieid}/reviews?api_key=${KEY}&language=en-US&include_adult=false`).then(data=>{\r\n        return data.json()\r\n    })\r\n}"],"names":["Cast","lazy","Reviews","MovieDetailsPage","movieId","useParams","useNavigate","useState","movie","setMovie","useEffect","fetchMovieId","then","data","console","log","className","s","type","to","width","src","poster_path","alt","id","title","release_date","overview","genres","map","genre","name","Suspense","fallback","path","element","BASE_URL","KEY","fetchTrendingMovie","fetch","json","fetchSearchMovie","film","filmId","fetchMovieCredits","fetchMovieReviews","movieid"],"sourceRoot":""}