{"version":3,"file":"static/js/movies-page.27c51712.chunk.js","mappings":"0NACA,GAAgB,UAAY,8BAA8B,WAAa,+BAA+B,aAAe,iCAAiC,cAAgB,kCAAkC,SAAW,6BAA6B,MAAQ,0BAA0B,KAAO,yBAAyB,KAAO,yBAAyB,MAAQ,2B,kBCS3U,SAASA,EAAT,GAAiC,IAAXC,EAAU,EAAVA,SACjC,GAAkCC,EAAAA,EAAAA,UAAS,IAA3C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAsBF,EAAAA,EAAAA,UAAS,IAA/B,eAAOG,EAAP,KAAaC,EAAb,MAGAC,EAAAA,EAAAA,YAAU,WACFJ,GAEJK,MACA,CAACL,IAEH,IAAMK,EAAa,YACjBC,EAAAA,EAAAA,IAAiBN,GAChBO,MAAK,SAAAL,GACLM,QAAQC,IAAIP,EAAKQ,SAChBP,EAAQD,EAAKQ,aAoBhB,OACI,iCACV,mBAAQC,UAAWC,EAAAA,UAAnB,UACE,kBAAMD,UAAWC,EAAAA,WAAcd,SAbT,SAAAe,GAClBA,EAAMC,iBACgB,KAAtBd,EAAWe,QAIXjB,EAASE,GACTC,EAAc,KAJZe,EAAAA,GAAAA,MAAY,mEAUlB,WACA,oBAAQC,KAAK,SAASN,UAAWC,EAAAA,aAAjC,WACE,SAAC,MAAD,KACE,iBAAMD,UAAWC,EAAAA,cAAjB,wBAEF,kBACED,UAAWC,EAAAA,MACXK,KAAK,OACLC,aAAa,MACZC,WAAS,EACVC,MAAOpB,EACPqB,SA5BsB,SAAAR,GACxBZ,EAAcY,EAAMS,cAAcF,MAAMG,gBA4BtCC,YAAY,mCAKhB,eAAIb,UAAWC,EAAAA,KAAf,SACFV,GACOA,EAAKuB,KAAI,SAAAC,GACP,OACE,eAAgBf,UAAWC,EAAAA,KAA3B,UACE,UAAC,KAAD,CAAMe,GAAE,WAAMD,EAAGE,IAAMjB,UAAWC,EAAAA,MAAlC,WACA,gBAAMD,UAAWC,EAAAA,MACFiB,IAAKH,EAAGI,YAAH,yCAAiDJ,EAAGI,aA3DjE,2EA4DP,eAAInB,UAAWC,EAAAA,SAAf,SAA4Bc,EAAGK,qBAJxBL,EAAGE,c,oLCrElBI,EAAW,+BACXC,EAAI,mCAGH,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,8FACUC,MAAM,GAAD,OAAIH,EAAJ,uCAA2CC,IAAO1B,MAAK,SAAAL,GACrE,OAAOA,EAAKkC,UAFb,0GAMA,SAAgB9B,EAAvB,+CAAO,OAAP,oBAAO,WAAiC+B,GAAjC,iFACUF,MAAM,GAAD,OAAIH,EAAJ,iCAAqCC,EAArC,kBAAkDI,EAAlD,wCAA6F9B,MAAK,SAAAL,GAChH,OAAOA,EAAKkC,UAFb,0GAMA,SAAeE,EAAtB,+CAAO,OAAP,oBAAO,WAA4BC,GAA5B,iFACWJ,MAAM,GAAD,OAAIH,EAAJ,kBAAsBO,EAAtB,oBAAwCN,EAAxC,wCAAkF1B,MAAK,SAAAL,GACtG,OAAOA,EAAKkC,UAFb,0GAMA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAAiCD,GAAjC,iFACWJ,MAAM,GAAD,OAAIH,EAAJ,kBAAsBO,EAAtB,4BAAgDN,IAAO1B,MAAK,SAAAL,GAC3E,OAAOA,EAAKkC,UAFb,0GAKA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAAkCC,GAAlC,iFACWP,MAAM,GAAD,OAAIH,EAAJ,kBAAsBU,EAAtB,4BAAiDT,EAAjD,wCAA2F1B,MAAK,SAAAL,GAC/G,OAAOA,EAAKkC,UAFb","sources":["webpack://react-hw-05-movies/./src/components/MoviesPage/MoviesPage.module.css?564c","components/MoviesPage/MoviesPage.js","components/services/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"MoviesPage_Searchbar__CBmM2\",\"SearchForm\":\"MoviesPage_SearchForm__IUVRV\",\"Searchbutton\":\"MoviesPage_Searchbutton__SY5uf\",\"button__label\":\"MoviesPage_button__label__jn31I\",\"subtitle\":\"MoviesPage_subtitle__WAbyn\",\"image\":\"MoviesPage_image__Oo68X\",\"list\":\"MoviesPage_list__2daHG\",\"item\":\"MoviesPage_item__RNzeL\",\"title\":\"MoviesPage_title__RHNQz\"};","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {ImSearch} from 'react-icons/im'\r\nimport { Link } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport s from './MoviesPage.module.css'\r\nimport {fetchSearchMovie} from '../services/movies-api'\r\n\r\nexport default function MoviesPage ({onSubmit}){\r\n    const [searchName, setSearchName]=useState('')\r\n    const [data, setData]=useState([])\r\n    const notPhoto = 'https://cdn.pixabay.com/photo/2014/04/02/10/25/man-303792_960_720.png';\r\n\r\n    useEffect(()=>{\r\n        if(!searchName){\r\n          return}\r\n        feachCartImg()\r\n      },[searchName])\r\n\r\n      const feachCartImg=()=>{\r\n        fetchSearchMovie(searchName)\r\n        .then(data =>{\r\n         console.log(data.results)\r\n          setData(data.results)           \r\n    })}\r\n    const handleFormSubmit = searchName => {\r\n        setSearchName(searchName); \r\n      };\r\n\r\n    const handleNameChange = event => {\r\n     setSearchName(event.currentTarget.value.toLowerCase() );\r\n     };\r\n     \r\n    const handleSubmit = event => {\r\n       event.preventDefault();\r\n   if (searchName.trim() === '') {\r\n         toast.error('Введите имя.');\r\n         return;\r\n       }\r\n       onSubmit(searchName)\r\n       setSearchName(\"\")\r\n     }\r\n   \r\n       return(\r\n           <>\r\n <header className={s.Searchbar}>\r\n   <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n   <button type=\"submit\" className={s.Searchbutton}>\r\n     <ImSearch/>\r\n       <span className={s.button__label}>Search</span>\r\n     </button>\r\n     <input\r\n       className={s.input}\r\n       type=\"text\"\r\n       autoComplete=\"off\"\r\n        autoFocus\r\n       value={searchName}\r\n       onChange={handleNameChange}\r\n       placeholder=\"Search images and photos\"\r\n     />\r\n   </form>\r\n   \r\n   </header>\r\n   <ul className={s.list}>\r\n{data &&\r\n        data.map(el => {\r\n          return (\r\n            <li key={el.id} className={s.item}>\r\n              <Link to={`/${el.id}`} className={s.title}>\r\n              <img  className={s.image}  \r\n                             src={el.poster_path?`https://image.tmdb.org/t/p/w300${el.poster_path}`:notPhoto} />\r\n              <h3 className={s.subtitle}>{el.original_title}</h3>\r\n              </Link>\r\n            </li>\r\n          );\r\n        })}\r\n         </ul>\r\n           </>\r\n   ) }\r\n\r\nMoviesPage.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\n","const BASE_URL = 'https://api.themoviedb.org/3';\r\nconst KEY='e0b83f13df06524117f579d02cedd1f8'\r\n\r\n\r\nexport async function fetchTrendingMovie() {\r\n    return await fetch(`${BASE_URL}/trending/movie/day?api_key=${KEY}`).then(data=>{\r\n        return data.json()\r\n    })\r\n}\r\n\r\nexport async function  fetchSearchMovie(film) {\r\n    return await fetch(`${BASE_URL}/search/movie?api_key=${KEY}&query=${film}&language=en-US&include_adult=false`).then(data=>{\r\n        return data.json()\r\n    })\r\n}\r\n\r\nexport async function fetchMovieId(filmId) {\r\n    return  await fetch(`${BASE_URL}/movie/${filmId}?api_key=${KEY}&language=en-US&include_adult=false`).then(data=>{\r\n        return data.json()\r\n    })\r\n}\r\n\r\nexport async function fetchMovieCredits(filmId) {\r\n    return  await fetch(`${BASE_URL}/movie/${filmId}/credits?api_key=${KEY}`).then(data=>{\r\n        return data.json()\r\n    })\r\n  };\r\nexport async function fetchMovieReviews (movieid) {\r\n    return  await fetch(`${BASE_URL}/movie/${movieid}/reviews?api_key=${KEY}&language=en-US&include_adult=false`).then(data=>{\r\n        return data.json()\r\n    })\r\n}"],"names":["MoviesPage","onSubmit","useState","searchName","setSearchName","data","setData","useEffect","feachCartImg","fetchSearchMovie","then","console","log","results","className","s","event","preventDefault","trim","toast","type","autoComplete","autoFocus","value","onChange","currentTarget","toLowerCase","placeholder","map","el","to","id","src","poster_path","original_title","BASE_URL","KEY","fetchTrendingMovie","fetch","json","film","fetchMovieId","filmId","fetchMovieCredits","fetchMovieReviews","movieid"],"sourceRoot":""}