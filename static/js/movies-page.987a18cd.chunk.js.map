{"version":3,"file":"static/js/movies-page.987a18cd.chunk.js","mappings":"4RAAMA,EAAW,+BACXC,EAAI,mCAGH,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,8FACUC,MAAM,GAAD,OAAIH,EAAJ,uCAA2CC,IAAOG,MAAK,SAAAC,GACrE,OAAOA,EAAKC,UAFb,0GAMA,SAAgBC,EAAvB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,iFACUL,MAAM,GAAD,OAAIH,EAAJ,iCAAqCC,EAArC,kBAAkDO,EAAlD,wCAA6FJ,MAAK,SAAAC,GAChH,OAAOA,EAAKC,UAFb,0GAMA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAA4BC,GAA5B,iFACWP,MAAM,GAAD,OAAIH,EAAJ,kBAAsBU,EAAtB,oBAAwCT,EAAxC,wCAAkFG,MAAK,SAAAC,GACtG,OAAOA,EAAKC,UAFb,0GAMA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAAiCD,GAAjC,iFACWP,MAAM,GAAD,OAAIH,EAAJ,kBAAsBU,EAAtB,4BAAgDT,IAAOG,MAAK,SAAAC,GAC3E,OAAOA,EAAKC,UAFb,0GAKA,SAAeM,EAAtB,+CAAO,OAAP,oBAAO,WAAkCC,GAAlC,iFACWV,MAAM,GAAD,OAAIH,EAAJ,kBAAsBa,EAAtB,4BAAiDZ,EAAjD,wCAA2FG,MAAK,SAAAC,GAC/G,OAAOA,EAAKC,UAFb,4G,kHC1BP,GAAgB,UAAY,8BAA8B,WAAa,+BAA+B,aAAe,iCAAiC,cAAgB,kCAAkC,SAAW,6BAA6B,MAAQ,0BAA0B,KAAO,yBAAyB,KAAO,yBAAyB,MAAQ,2B,kBCS3U,SAASQ,EAAT,GAAiC,IAAXC,EAAU,EAAVA,SACjC,GAAkCC,EAAAA,EAAAA,UAAS,IAA3C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAsBF,EAAAA,EAAAA,UAAS,IAA/B,eAAOX,EAAP,KAAac,EAAb,MAGAC,EAAAA,EAAAA,YAAU,WACFH,GAEJI,MACA,CAACJ,IAEH,IAAMI,EAAa,YACjBd,EAAAA,EAAAA,IAAiBU,GAChBb,MAAK,SAAAC,GACLiB,QAAQC,IAAIlB,EAAKmB,SAChBL,EAAQd,EAAKmB,aAkBhB,OACI,iCACV,mBAAQC,UAAWC,EAAAA,UAAnB,UACE,kBAAMD,UAAWC,EAAAA,WAAcX,SAbT,SAAAY,GAClBA,EAAMC,iBACgB,KAAtBX,EAAWY,QAIXd,EAASE,GACTC,EAAc,KAJZY,EAAAA,GAAAA,MAAY,mEAUlB,WACA,oBAAQC,KAAK,SAASN,UAAWC,EAAAA,aAAjC,WACE,SAAC,MAAD,KACE,iBAAMD,UAAWC,EAAAA,cAAjB,wBAEF,kBACED,UAAWC,EAAAA,MACXK,KAAK,OACLC,aAAa,MACZC,WAAS,EACVC,MAAOjB,EACPkB,SA5BsB,SAAAR,GACxBT,EAAcS,EAAMS,cAAcF,MAAMG,gBA4BtCC,YAAY,mCAKhB,eAAIb,UAAWC,EAAAA,KAAf,SACFrB,GACOA,EAAKkC,KAAI,SAAAC,GACP,OACE,eAAgBf,UAAWC,EAAAA,KAA3B,UACE,UAAC,KAAD,CAAMe,GAAE,8BAAyBD,EAAGE,IAAMjB,UAAWC,EAAAA,MAArD,WACA,gBAAMD,UAAWC,EAAAA,MACFiB,IAAKH,EAAGI,YAAH,yCAAiDJ,EAAGI,aAzDjE,2EA0DP,eAAInB,UAAWC,EAAAA,SAAf,SAA4Bc,EAAGK,qBAJxBL,EAAGE","sources":["components/services/movies-api.js","webpack://react-hw-05-movies/./src/views/MoviesPage/MoviesPage.module.css?0f72","views/MoviesPage/MoviesPage.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\r\nconst KEY='e0b83f13df06524117f579d02cedd1f8'\r\n\r\n\r\nexport async function fetchTrendingMovie() {\r\n    return await fetch(`${BASE_URL}/trending/movie/day?api_key=${KEY}`).then(data=>{\r\n        return data.json()\r\n    })\r\n}\r\n\r\nexport async function  fetchSearchMovie(film) {\r\n    return await fetch(`${BASE_URL}/search/movie?api_key=${KEY}&query=${film}&language=en-US&include_adult=false`).then(data=>{\r\n        return data.json()\r\n    })\r\n}\r\n\r\nexport async function fetchMovieId(filmId) {\r\n    return  await fetch(`${BASE_URL}/movie/${filmId}?api_key=${KEY}&language=en-US&include_adult=false`).then(data=>{\r\n        return data.json()\r\n    })\r\n}\r\n\r\nexport async function fetchMovieCredits(filmId) {\r\n    return  await fetch(`${BASE_URL}/movie/${filmId}/credits?api_key=${KEY}`).then(data=>{\r\n        return data.json()\r\n    })\r\n  };\r\nexport async function fetchMovieReviews (movieid) {\r\n    return  await fetch(`${BASE_URL}/movie/${movieid}/reviews?api_key=${KEY}&language=en-US&include_adult=false`).then(data=>{\r\n        return data.json()\r\n    })\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"MoviesPage_Searchbar__-i47j\",\"SearchForm\":\"MoviesPage_SearchForm__L+vCT\",\"Searchbutton\":\"MoviesPage_Searchbutton__SUOxp\",\"button__label\":\"MoviesPage_button__label__Sxm3K\",\"subtitle\":\"MoviesPage_subtitle__FKOSs\",\"image\":\"MoviesPage_image__agMhC\",\"list\":\"MoviesPage_list__Tc25b\",\"item\":\"MoviesPage_item__PCaMf\",\"title\":\"MoviesPage_title__uIN66\"};","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {ImSearch} from 'react-icons/im'\r\nimport { Link } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport s from './MoviesPage.module.css'\r\nimport {fetchSearchMovie} from '../../components/services/movies-api'\r\n\r\nexport default function MoviesPage ({onSubmit}){\r\n    const [searchName, setSearchName]=useState('')\r\n    const [data, setData]=useState([])\r\n    const notPhoto = 'https://cdn.pixabay.com/photo/2014/04/02/10/25/man-303792_960_720.png';\r\n\r\n    useEffect(()=>{\r\n        if(!searchName){\r\n          return}\r\n        feachCartImg()\r\n      },[searchName])\r\n\r\n      const feachCartImg=()=>{\r\n        fetchSearchMovie(searchName)\r\n        .then(data =>{\r\n         console.log(data.results)\r\n          setData(data.results)           \r\n    })}\r\n    \r\n\r\n    const handleNameChange = event => {\r\n     setSearchName(event.currentTarget.value.toLowerCase() );\r\n     };\r\n     \r\n    const handleSubmit = event => {\r\n       event.preventDefault();\r\n   if (searchName.trim() === '') {\r\n         toast.error('Введите имя.');\r\n         return;\r\n       }\r\n       onSubmit(searchName)\r\n       setSearchName(\"\")\r\n     }\r\n   \r\n       return(\r\n           <>\r\n <header className={s.Searchbar}>\r\n   <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n   <button type=\"submit\" className={s.Searchbutton}>\r\n     <ImSearch/>\r\n       <span className={s.button__label}>Search</span>\r\n     </button>\r\n     <input\r\n       className={s.input}\r\n       type=\"text\"\r\n       autoComplete=\"off\"\r\n        autoFocus\r\n       value={searchName}\r\n       onChange={handleNameChange}\r\n       placeholder=\"Search images and photos\"\r\n     />\r\n   </form>\r\n   \r\n   </header>\r\n   <ul className={s.list}>\r\n{data &&\r\n        data.map(el => {\r\n          return (\r\n            <li key={el.id} className={s.item}>\r\n              <Link to={`/react-hw-05-movies/${el.id}`} className={s.title}>\r\n              <img  className={s.image}  \r\n                             src={el.poster_path?`https://image.tmdb.org/t/p/w300${el.poster_path}`:notPhoto} />\r\n              <h3 className={s.subtitle}>{el.original_title}</h3>\r\n              </Link>\r\n            </li>\r\n          );\r\n        })}\r\n         </ul>\r\n           </>\r\n   ) }\r\n\r\nMoviesPage.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\n"],"names":["BASE_URL","KEY","fetchTrendingMovie","fetch","then","data","json","fetchSearchMovie","film","fetchMovieId","filmId","fetchMovieCredits","fetchMovieReviews","movieid","MoviesPage","onSubmit","useState","searchName","setSearchName","setData","useEffect","feachCartImg","console","log","results","className","s","event","preventDefault","trim","toast","type","autoComplete","autoFocus","value","onChange","currentTarget","toLowerCase","placeholder","map","el","to","id","src","poster_path","original_title"],"sourceRoot":""}